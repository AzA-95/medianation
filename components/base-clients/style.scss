.close {
	display: none;
}

.row {
	display: grid;
	grid-template-columns: 1fr 1fr 1fr;
	margin: 0 calc(var(--horizontal-indent) * -1);
}

.client {
	position: relative;
	width: 330px;
	height: 200px;
	margin: 0 auto;
	margin-bottom: 80px;

	&__logo {
		width: 100%;
		height: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
		--img-max-width: 330px;
		--img-max-height: 200px;

		&:not([data-lazy='loaded']) {
			@include loading;
		}

		img {
			// Нужен чтобы картинка подстраивалась под ограниченую ширину и высоту родителя без прыжков(При загрузке)
			--ratio: min(
				1px,
				var(--img-max-width) / var(--img-width),
				var(--img-max-height) / var(--img-height)
			);
			display: block;
			width: calc(var(--img-width) * var(--ratio, 1px));
			height: calc(var(--img-height) * var(--ratio, 1px));
			// фолбек если css свойство min не подерживается
			max-width: 100%;
			max-height: 100%;
		}
	}
}

.tooltip-client {
	pointer-events: none;
	opacity: 0;
	position: absolute;
	top: 100%;
	left: -20px;
	right: -20px;
	z-index: 5; // смотри кнопку(Связаться с нами) в футере
	padding: 30px 20px;
	background: var(--color-fifth);
	transform: translateY(10px);
	transition: 0.3s;

	&__logo {
		display: none;
	}

	&__case {
		&:not(:last-child) {
			margin-bottom: 20px;
		}
	}

	&__link {
		display: flex;
		align-items: center;
		color: var(--color-twenty-fourth);
		font-size: 18px;
		font-weight: 500;
		line-height: 20px;
		text-align: center;
		text-decoration: none;
		letter-spacing: -0.01em;

		&::after {
			content: '';
			flex-shrink: 0;
			width: 12px;
			height: 12px;
			background: get-svg-icon('link-arrow', 'color-twenty-fourth')
				no-repeat;
			background-size: 100% 100%;
			margin-left: 8px;
		}
	}
}

@include lg {
	.client {
		width: 256px;
		height: 156px;
		margin-bottom: 60px;

		&__logo {
			--img-max-width: 256px;
			--img-max-height: 156px;
		}
	}
}

@include md {
	.row {
		grid-template-columns: 1fr 1fr;
	}

	.client {
		width: 242px;
		height: 145px;
		margin-bottom: 28px;

		&__logo {
			--img-max-width: 242px;
			--img-max-height: 145px;
		}
	}
}

@include sm-min {
	.row.hovered .client {
		&:not(.hovered) {
			opacity: 0.1;
		}
	}

	.client.hovered {
		// чтобы был виден(контент когда (.tooltip-client) будет накладываться на футер)
		// Если указать z-index к .client то перебивается z-index фильтра
		// (а если поменять z-index фильтра то поломается мобильное меню)
		transform: none;
		transition: none;

		.tooltip-client {
			opacity: 1;
			pointer-events: auto;
			transform: translateY(0);
		}
	}

	.tooltip-client:not(.has-cases) {
		display: none;
	}
}

@include sm {
	.row {
		grid-template-columns: 1fr;
	}

	.client {
		width: 190px;
		height: auto;
		margin-bottom: 25px;

		&__logo {
			cursor: pointer;
			--img-max-width: 190px;
			--img-max-height: 115px;
		}
	}

	.close {
		cursor: pointer;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: var(--header-height);
		z-index: 5;
		background: var(--color-twenty-first);

		&::after {
			content: '';
			width: 20px;
			height: 20px;
			background: get-svg-icon('close', 'color-fifth') no-repeat;
			background-size: contain;
		}

		&.active {
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}

	.tooltip-client {
		pointer-events: auto;
		display: none;
		opacity: 1;
		position: fixed;
		top: var(--header-height);
		left: 0;
		right: 0;
		height: calc(100% - var(--header-height));
		overflow-y: auto;
		text-align: center;
		padding: 24px 16px;
		transform: none;
		transition: none;

		&.active {
			display: block;
		}

		&__logo {
			display: inline-block;
			margin-bottom: 50px;

			&:not([data-lazy='loaded']) {
				@include loading;
			}

			img {
				--img-max-width: 190px;
				--img-max-height: 115px;
				// Нужен чтобы картинка подстраивалась под ограниченую ширину и высоту родителя без прыжков(При загрузке)
				--ratio: min(
					1px,
					var(--img-max-width) / var(--img-width),
					var(--img-max-height) / var(--img-height)
				);
				display: block;
				width: calc(var(--img-width) * var(--ratio, 1px));
				height: calc(var(--img-height) * var(--ratio, 1px));
				// фолбек если css свойство min не подерживается
				max-width: 100%;
				max-height: 100%;
			}
		}

		&__link {
			display: inline;
			font-size: 16px;

			&::after {
				display: inline-block;
				width: 10px;
				height: 10px;
			}
		}
	}
}
